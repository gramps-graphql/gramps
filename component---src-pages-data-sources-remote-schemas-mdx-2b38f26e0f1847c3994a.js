(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{388:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return i})),a.d(t,"default",(function(){return b}));a(11),a(5),a(6),a(2),a(10),a(1),a(0);var r=a(103),o=a(395);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var s,i={},l=(s="PageDescription",function(e){return console.warn("Component "+s+" was not imported, exported, or provided by MDXProvider as global scope"),Object(r.b)("div",e)}),c={_frontmatter:i},p=o.a;function b(e){var t=e.components,a=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,["components"]);return Object(r.b)(p,n({},c,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)(l,{mdxType:"PageDescription"},Object(r.b)("p",null,"Graphql has the ability to load and proxy other graphql servers using the ",Object(r.b)("a",n({parentName:"p"},{href:"https://www.apollographql.com/docs/graphql-tools/remote-schemas/"}),"remote schema functionality"),". This documentation will go into detail about how remote schemas work with GrAMPS.")),Object(r.b)("p",null,"Adding a remote schema into your GrAMPS set up it quite simple! For remote schemas you don’t need to create a connector, model, resolvers, or schema.\nThat’s because the remote graphql server should already have the proper hook ups. Instead you just need to provide GrAMPS with the proper route\nto the remote graphql server. Let’s take a look at the most basic setup:"),Object(r.b)("pre",null,Object(r.b)("code",n({parentName:"pre"},{className:"language-js"}),"// index.js\n\nexport default {\n  namespace: 'Cool',\n  remoteSchema: {\n    url: \"https://mycoolgraphqlserver.com/graphql\", // URL to the remote graphql server\n  },\n};\n\n")),Object(r.b)("p",null,"Remote schemas only need a single file. The index.js file. This needs to include a namespace so GrAMPS can keep track of the data source, and object\ncalled ",Object(r.b)("inlineCode",{parentName:"p"},"remoteSchema")," that defines the location of the remote server. In order for GrAMPS to pull in the remote schema the remote server needs to have\nthe ",Object(r.b)("a",n({parentName:"p"},{href:"https://graphql.org/learn/introspection/"}),"introspection option")," set to true."),Object(r.b)("p",null,"Additionaly by default the schema pulled from the remote server will automatically be prepended with the name space. For example if you have a query,\n",Object(r.b)("inlineCode",{parentName:"p"},"getId")," it will be converted to ",Object(r.b)("inlineCode",{parentName:"p"},"CoolGetId"),". This is to help prevent duplicate query, mutation, and subscriptions across multiple data sources."),Object(r.b)("p",null,"There are a few more advanced configuration options. Let’s take a look at a fully fleshed out config and what each option is used for."),Object(r.b)("pre",null,Object(r.b)("code",n({parentName:"pre"},{className:"language-js"}),"// index.js\n\nexport default {\n  namespace: 'Cool',\n  remoteSchema: {\n    url: \"https://mycoolgraphqlserver.com/graphql\", // URL to the remote graphql server\n    prefix: 'CL', // Highly recommended, prefix prepends each typename with the provided string. This helps prevent duplicate types across data sources.\n    exitOnRemoteFail: true, // If set to false the GrAMPS server will still build even if it can't access a remote schema. By default set to true.\n    setContextCallback: (req, previousContext) => { // A callback function to add any express middleware to each request.\n      return {\n        headers: { // This example shows a session token being attached to the request header for authentication.\n          Authorization: previousContext.req.session.token\n        }\n      }\n    }\n  },\n};\n\n")))}b.isMDXComponent=!0},393:function(e){e.exports=JSON.parse('{"data":{"site":{"pathPrefix":""}}}')},394:function(e){e.exports=JSON.parse('{"data":{"site":{"siteMetadata":{"repository":{"baseUrl":"","subDirectory":""}}}}}')},395:function(e,t,a){"use strict";a(35),a(27);var r=a(1),o=a(393),n=a(0),s=a.n(n),i=a(102),l=a.n(i),c=a(188),p=a(121),b=a(3),u=a.n(b),d=a(373),h=function(e){var t,a=e.title,o=e.tabs,n=void 0===o?[]:o;return Object(r.b)("div",{className:u()(d.pageHeader,(t={},t[d.withTabs]=n.length,t))},Object(r.b)("div",{className:"bx--grid"},Object(r.b)("div",{className:"bx--row"},Object(r.b)("div",{className:"bx--col-lg-12"},Object(r.b)("h1",{id:"page-title",className:d.text},a)))))},m=a(394),f=a(374),v=function(e){var t=e.relativePagePath,a=e.repository,o=m.data.site.siteMetadata.repository,n=a||o,s=n.baseUrl,i=s+"/tree/master"+n.subDirectory+"/src/pages"+t;return s?Object(r.b)("div",{className:"bx--row "+f.row},Object(r.b)("div",{className:"bx--col"},Object(r.b)("a",{className:f.link,href:i},"Edit this page on GitHub"))):null},g=a(186),j=a(28),O=a(375);var y=function(e){var t,a;function o(){return e.apply(this,arguments)||this}return a=e,(t=o).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,o.prototype.render=function(){var e=this.props,t=e.tabs,a=e.slug,o=a.split("/").filter(Boolean).slice(-1)[0],n=t.map((function(e){var t,n=l()(e,{lower:!0}),s=n===o,i=a.replace(o,n);return Object(r.b)("li",{key:e,className:u()((t={},t[O.selectedItem]=s,t),O.listItem)},Object(r.b)(j.Link,{className:O.link,to:""+i},e))}));return Object(r.b)("div",{className:O.tabsContainer},Object(r.b)("div",{className:"bx--grid"},Object(r.b)("div",{className:"bx--row"},Object(r.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(r.b)("nav",null,Object(r.b)("ul",{className:O.list},n))))))},o}(s.a.Component),w=a(187);t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,s=t.frontmatter,i=void 0===s?{}:s,b=t.relativePagePath,u=t.titleType,d=i.tabs,m=i.title,f=i.theme,j=i.description,O=i.keywords,x=o.data.site.pathPrefix,N=x?n.pathname.replace(x,""):n.pathname,k=d?N.split("/").slice(-1)[0]||l()(d[0],{lower:!0}):"";return Object(r.b)(p.a,{homepage:!1,theme:f,pageTitle:m,pageDescription:j,pageKeywords:O,titleType:u},Object(r.b)(h,{title:m,label:"label",tabs:d}),d&&Object(r.b)(y,{slug:N,tabs:d,currentTab:k}),Object(r.b)(w.a,{padded:!0},a,Object(r.b)(v,{relativePagePath:b})),Object(r.b)(g.a,{pageContext:t,location:n,slug:N,tabs:d,currentTab:k}),Object(r.b)(c.a,null))}}}]);
//# sourceMappingURL=component---src-pages-data-sources-remote-schemas-mdx-2b38f26e0f1847c3994a.js.map